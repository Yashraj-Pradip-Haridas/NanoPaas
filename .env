# NanoPaaS Production Configuration
# =====================================
# Copy this file to .env and update values for your environment

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
SERVER_HOST=0.0.0.0
SERVER_PORT=8080
SERVER_READ_TIMEOUT=30s
SERVER_WRITE_TIMEOUT=30s
SERVER_SHUTDOWN_TIMEOUT=15s

# =============================================================================
# DOCKER CONFIGURATION
# =============================================================================
DOCKER_HOST=unix:///var/run/docker.sock
DOCKER_API_VERSION=1.44
DOCKER_TLS_VERIFY=false
DOCKER_CERT_PATH=
DOCKER_CONTAINER_PREFIX=nanopaas-
DOCKER_NETWORK=nanopaas

# =============================================================================
# POSTGRESQL DATABASE
# =============================================================================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=nanopaas
POSTGRES_PASSWORD=nanopaas_secret_2024
POSTGRES_DB=nanopaas
POSTGRES_SSL_MODE=disable
POSTGRES_POOL_SIZE=25

# =============================================================================
# REDIS CACHE & QUEUE
# =============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# =============================================================================
# TRAEFIK ROUTER
# =============================================================================
ROUTER_DOMAIN=localhost
ROUTER_HTTP_PORT=80
ROUTER_HTTPS_PORT=443
ROUTER_ENABLE_HTTPS=false
TRAEFIK_API=http://traefik:8080
TRAEFIK_CONFIG_PATH=/traefik/dynamic

# =============================================================================
# GITHUB OAUTH
# =============================================================================
# Create OAuth App at: https://github.com/settings/developers
# Homepage URL: http://localhost:8080
# Callback URL: http://localhost:8080/api/v1/auth/github/callback
GITHUB_CLIENT_ID=Ov23liT4GtT6Fm9a788k
GITHUB_CLIENT_SECRET=f8d9ab92e5657060fff95b855722104b1f7ea4ea
GITHUB_WEBHOOK_SECRET=your_webhook_secret_here
GITHUB_REDIRECT_URI=http://localhost:8080/api/v1/auth/github/callback

# =============================================================================
# JWT AUTHENTICATION
# =============================================================================
# IMPORTANT: Change this in production! Generate with: openssl rand -base64 32
JWT_SECRET=change-me-in-production-use-openssl-rand-base64-32
JWT_EXPIRY=24h
JWT_REFRESH_EXPIRY=168h

# =============================================================================
# FRONTEND & CORS
# =============================================================================
FRONTEND_URL=http://localhost:3000
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080

# =============================================================================
# BUILD SERVICE
# =============================================================================
BUILD_WORKERS=4
BUILD_TIMEOUT=15m
BUILD_CACHE_DIR=/tmp/nanopaas/builds

# =============================================================================
# LOGGING & MONITORING
# =============================================================================
LOG_LEVEL=info
LOG_FORMAT=json

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_DURATION=1m

# =============================================================================
# SECURITY
# =============================================================================
# Set to true in production with valid SSL certificates
SECURE_COOKIES=false
# Trusted proxies for X-Forwarded-For header
TRUSTED_PROXIES=127.0.0.1,172.16.0.0/12
